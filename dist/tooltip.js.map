{"version":3,"sources":["../../../es6/tooltip.js"],"names":[],"mappings":"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","file":"tooltip.js","sourcesContent":["'use strict';\n\nimport objectAssign from 'lagden-utils/dist/object-assign';\nimport isElement from 'lagden-utils/dist/is-element';\nimport textNode from 'lagden-utils/dist/text-node';\nimport qS from 'lagden-utils/dist/qs';\n\nlet doc;\nlet body;\nlet initializedVars = false;\n\nfunction setVars(win = window) {\n\tif (initializedVars === false) {\n\t\tdoc = win.document;\n\t\tbody = win.document.boby || qS('body', doc);\n\t\tinitializedVars = true;\n\t}\n}\n\n// Globally unique identifiers\nlet GUID = 0;\n\n// Internal store of all Tooltip intances\nconst instances = {};\n\nclass Tooltip {\n\tconstructor(target, opts = {}, win = undefined) {\n\t\tsetVars(win);\n\n\t\tthis.target = isElement(target) ? target : qS(target);\n\n\t\t// Check if element was initialized and return your instance\n\t\tconst initialized = Tooltip.data(this.target);\n\t\tif (initialized instanceof Tooltip) {\n\t\t\treturn initialized;\n\t\t}\n\n\t\t// Storage current instance\n\t\tconst id = ++GUID;\n\t\tthis.target.GUID = id;\n\t\tinstances[id] = this;\n\n\t\tthis.options = {\n\t\t\tattr: 'data-lagden-tip',\n\t\t\tcontent: '',\n\t\t\thtml: false,\n\t\t\tcss: 'theTooltip',\n\t\t\tplace: 'auto',\n\t\t\tspace: 15\n\t\t};\n\n\t\tobjectAssign(this.options, opts);\n\n\t\tconst tip = this.options.content || this.target.getAttribute(this.options.attr);\n\t\tthis.tooltip = textNode(doc.createElement('div'), tip, this.options.html);\n\t\tthis.tooltip.classList.add(this.options.css);\n\t\tbody.appendChild(this.tooltip);\n\n\t\tthis.target.addEventListener('mouseenter', this, false);\n\t\tthis.target.addEventListener('mouseleave', this, false);\n\t\tthis.target.addEventListener('click', this, false);\n\t}\n\n\tshow() {\n\t\tlet y;\n\t\tconst scrollY = window.scrollY !== undefined ? window.scrollY : window.pageYOffset;\n\t\tconst place = this.options.place;\n\t\tconst tgBounds = this.target.getBoundingClientRect();\n\t\tconst ttBounds = this.tooltip.getBoundingClientRect();\n\t\tconst ttBody = (ttBounds.height + this.options.space).toFixed(0) - '';\n\t\tconst check = tgBounds.top - ttBody;\n\t\tconst center = (tgBounds.left + ((tgBounds.width / 2) - (ttBounds.width / 2))).toFixed(0) - '';\n\n\t\tif ((check < 0 || place === 'bottom') && place !== 'top') {\n\t\t\ty = tgBounds.top + tgBounds.height + scrollY + this.options.space;\n\t\t\tthis.tooltip.classList.add('top');\n\t\t} else {\n\t\t\ty = tgBounds.top + scrollY - ttBody;\n\t\t\tthis.tooltip.classList.remove('top');\n\t\t}\n\n\t\tthis.tooltip.style.top = `${y}px`;\n\t\tthis.tooltip.style.left = `${center}px`;\n\t\tthis.tooltip.classList.add(`${this.options.css}--show`);\n\t}\n\n\thide() {\n\t\tthis.tooltip.classList.remove(`${this.options.css}--show`);\n\t}\n\n\tdestroy() {\n\t\tthis.target.removeEventListener('mouseenter', this, false);\n\t\tthis.target.removeEventListener('mouseleave', this, false);\n\t\tthis.target.removeEventListener('click', this, false);\n\n\t\tbody.removeChild(this.tooltip);\n\n\t\tconst id = this.target.GUID;\n\t\tdelete instances[id];\n\t\tdelete this.target.GUID;\n\t}\n\n\thandleEvent(event) {\n\t\tswitch (event.type) {\n\t\t\tcase 'mouseenter':\n\t\t\t\tthis.show(event);\n\t\t\t\tbreak;\n\t\t\tcase 'mouseleave':\n\t\t\t\tthis.hide(event);\n\t\t\t\tbreak;\n\t\t\tcase 'click':\n\t\t\t\tthis.hide(event);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n\nTooltip.data = el => {\n\tconst id = el && el.GUID;\n\treturn id && instances[id];\n};\n\nexport default Tooltip;\n"]}